

<!DOCTYPE html>
<html lang="en">
    
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Potrero Energy - The Vision</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS variables for consistent theming */
        :root {
            --primary-color: #4CAF50;
            --accent-color: #FF9800;
            --text-color: #1d1d1f;
            --secondary-text: #86868b;
            --background-color: #ffffff;
            --subtle-bg: #f5f5f7;
            --border-color: #d2d2d7;
        }
        
        /* Universal box-sizing and font styling */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "SF Pro Display", -apple-system, BlinkMacSystemFont, sans-serif;
            -webkit-font-smoothing: antialiased;
        }
        
        /* Section styling for content centering and padding */
        .vision-section {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            overflow: hidden;
        }
        
        /* Slider container styling with rounded corners and shadow */
        .slider-container {
            position: relative;
            width: 100%;
            height: auto;
            min-height: 300px;
            overflow: hidden;
            border-radius: 18px;
            background-color: var(--background-color);
            box-shadow: 0 4px 30px rgba(0,0,0,0.03);
        }
        
        /* Slider flex container for horizontal slide arrangement */
        .slider {
            display: flex;
            transition: transform 0.7s cubic-bezier(0.42, 0, 0.58, 1); /* Smooth transition for slides */
            height: 100%;
        }
        
        /* Individual slide styling */
        .slide {
            min-width: 100%; /* Each slide takes full width */
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            background-color: var(--background-color);
        }
        
        /* Content area within each slide */
        .slide-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* Heading styling for slides */
        .slide h3 {
            font-size: 32px;
            margin-bottom: 25px;
            color: var(--text-color);
            font-weight: 600;
            letter-spacing: -0.5px;
            line-height: 1.1;
            text-align: center;
        }
        
        /* Paragraph styling for slides */
        .slide p {
            font-size: 18px;
            line-height: 1.5;
            color: var(--secondary-text);
            margin-bottom: 20px;
            margin-left: 40px;
            margin-right: 40px;
            font-weight: 400;
            /*text-align: center;*/
        }
        
        /* Unordered list styling for slides */
        .slide ul {
            list-style: none; /* Remove default list bullets */
            margin-left: 10px;
            margin-bottom: 20px;
        }
        
        /* List item styling for slides */
        .slide li {
            font-size: 17px;
            line-height: 1.6;
            color: var(--secondary-text);
            margin-bottom: 12px;
            position: relative;
            padding-left: 24px; /* Space for custom bullet */
            font-weight: 400;
        }
        
        /* Custom bullet point using ::before pseudo-element */
        .slide li:before {
            content: "";
            position: absolute;
            left: 0;
            top: 9px;
            width: 6px;
            height: 6px;
            background-color: var(--primary-color);
            border-radius: 50%;
        }
        
        /* Data link styling */
        .data-link {
            display: inline-block;
            margin-top: 10px;
            margin-bottom: 10px;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        /* Data link hover effect */
        .data-link:hover {
            opacity: 0.7;
        }
        
        /* Slider navigation dots container */
        .slider-nav {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            padding-bottom: 10px;
        }
        
        /* Individual slider dot styling */
        .slider-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin: 0 6px;
            background-color: var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        /* Active slider dot styling */
        .slider-dot.active {
            background-color: var(--primary-color);
            transform: scale(1.2);
        }
        
        /* Slider navigation arrows container */
        .slider-arrows {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
            z-index: 2;
            padding: 0 20px;
        }
        
        /* Arrow button styling */
        .arrow {
            width: 44px;
            height: 44px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            transition: all 0.3s ease;
            backdrop-filter: blur(5px); /* Frosted glass effect */
        }
        
        /* Arrow button hover effect */
        .arrow:hover {
            background-color: rgba(255, 255, 255, 1);
            transform: scale(1.05);
        }
        
        /* Icon styling within arrow buttons */
        .arrow i {
            font-size: 16px;
            color: var(--text-color);
        }
        
        /* Highlighted text styling */
        .highlight {
            color: var(--text-color);
            font-weight: 500;
        }
        
        /* Responsive adjustments for smaller screens */
        @media (max-width: 768px) {
            .vision-section {
                padding: 30px 15px;
            }
            
            .slider-container {
                min-height: 250px;
                border-radius: 14px;
            }
            
            .slide {
                padding: 30px 20px;
            }
            
            .slide h3 {
                font-size: 26px;
                margin-bottom: 20px;
            }
            
            .slide p, .slide li {
                font-size: 16px;
            }
            
            .slide li {
                margin-bottom: 10px;
            }
            
            .arrow {
                width: 36px;
                height: 36px;
            }
        }
    </style>
</head>
<body>
    <section class="vision-section">
        <div class="slider-container">
            <div class="slider" id="dynamicSlider">
                </div>
            
            <div class="slider-arrows">
                <div class="arrow prev" id="prevSlide">
                    <i class="fas fa-chevron-left"></i>
                </div>
                <div class="arrow next" id="nextSlide">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
        </div>
        
        <div class="slider-nav" id="sliderDots">
            </div>
    </section>

    <script>
        
        document.addEventListener('DOMContentLoaded', function() {
            // --- TEXT CONTENT VARIABLES ---
            // An array of objects, where each object represents a slide
            // and contains its heading, paragraph, and list items.
            const slideData = [
                {
                    heading: "Easy",
                    paragraph: "The electrification transition has It has become too complex to make a smartAs you electrify, the problem of sizing and operating your home in Have a single electrification partner who can manage survey, design, installation, and ongoing operation of the system. Spare yourself the multi-month research project needed to make a smart decision. Spare yourself the continual distraction of staying on top of changing rates, incentives, programs, and new products and technologies.  Our goal is to do all of that for you and ensure you earn a strong return on your home energy investment without having . (show all the components of the system, or a graphic of an electrified home?", 
                },
                {
                    heading: "Straightforward",
                    paragraph: "No long-term commitments, no predatory exit clauses, and no misleading financing options. Pay cash or use our simple, low-interest, mortgage-style loan. Each year there (show immediate appreciation data)",
                },
                {
                    heading: "Profitable",
                    paragraph: "The electricity rates in California are astronomically high, which is a major problem but also a huge economic opportunity. With our offerings, you can expect 15-20% annual return on investment over multiple decades. If you move soon, your home will have appreciated significantly more than you invested. (show image of utility rates climbing?)",
                },
                {
                    heading: "High Impact",
                    paragraph: "The combination of the large battery system and our software running in the background allows your home to provide 6x the grid-balancing benefit of a typical installation. (show self consumption export rate).",
                },
                {
                    heading: "Reliable",
                    paragraph: "We backup your whole home, not just critical appliances, and we provide multiple layers of backup so you don’t have to scramble during a grid outage, even if it lasts weeks. (show solar, wind, battery, generator, in desending order?)",
                    link: { text: "View data on home price appreciation →", href: "#" }
                },
            ];

            // --- DOM ELEMENTS ---
            // Get references to the main DOM elements needed for the slider functionality.
            const slider = document.getElementById('dynamicSlider');
            const dotsContainer = document.getElementById('sliderDots');
            const prevBtn = document.getElementById('prevSlide');
            const nextBtn = document.getElementById('nextSlide');
            const sliderContainer = document.querySelector('.slider-container');
            let currentSlide = 0; // Initialize the current slide index.
            
            // --- FUNCTIONS ---

            // Function to dynamically create and append slides based on slideData.
            function createSlides() {
                slider.innerHTML = ''; // Clear existing content
                dotsContainer.innerHTML = ''; // Clear existing dots

                slideData.forEach((data, index) => {
                    // Create slide element
                    const slideDiv = document.createElement('div');
                    slideDiv.classList.add('slide');

                    // Create content div
                    const contentDiv = document.createElement('div');
                    contentDiv.classList.add('slide-content');

                    // Add heading
                    const heading = document.createElement('h3');
                    heading.textContent = data.heading;
                    contentDiv.appendChild(heading);

                    // Add paragraph
                    const paragraph = document.createElement('p');
                    paragraph.textContent = data.paragraph;
                    contentDiv.appendChild(paragraph);

                    // Add list items
                    if (data.listItems && data.listItems.length > 0) {
                        const ul = document.createElement('ul');
                        data.listItems.forEach(item => {
                            const li = document.createElement('li');
                            if (item.highlight) {
                                const span = document.createElement('span');
                                span.classList.add('highlight');
                                span.textContent = item.text;
                                li.appendChild(span);
                            } else {
                                li.textContent = item.text;
                            }
                            ul.appendChild(li);
                        });
                        contentDiv.appendChild(ul);
                    }

                    // Add link if present
                    if (data.link) {
                        const link = document.createElement('a');
                        link.classList.add('data-link');
                        link.href = data.link.href;
                        link.textContent = data.link.text;
                        contentDiv.appendChild(link);
                    }

                    slideDiv.appendChild(contentDiv);
                    slider.appendChild(slideDiv);

                    // Create navigation dot
                    const dot = document.createElement('div');
                    dot.classList.add('slider-dot');
                    dot.setAttribute('data-slide', index);
                    dotsContainer.appendChild(dot);
                });
            }

            // Function to adjust the height of the slider container to match the active slide.
            function adjustHeight() {
                // Ensure slides are loaded before trying to get their offsetHeight
                const slides = document.querySelectorAll('.slide');
                if (slides.length > 0 && slides[currentSlide]) {
                    const activeSlide = slides[currentSlide];
                    const activeSlideHeight = activeSlide.offsetHeight;
                    sliderContainer.style.height = activeSlideHeight + 'px';
                }
            }
            
            // Function to update the slider's position and active navigation dot.
            function updateSlider() {
                // Get all slides again, as they are dynamically created
                const slides = document.querySelectorAll('.slide');
                const dots = document.querySelectorAll('.slider-dot');

                slider.style.transform = `translateX(-${currentSlide * 100}%)`;
                
                // Adjust height to match current slide after a slight delay for transition
                setTimeout(adjustHeight, 50);
                
                // Update active dot class based on current slide
                dots.forEach((dot, index) => {
                    if (index === currentSlide) {
                        dot.classList.add('active');
                    } else {
                        dot.classList.remove('active');
                    }
                });
            }
            
            // --- EVENT LISTENERS ---

            // Event delegation for navigation dots.
            // This handles clicks on dots even if they are added dynamically.
            dotsContainer.addEventListener('click', function(event) {
                if (event.target.classList.contains('slider-dot')) {
                    currentSlide = parseInt(event.target.getAttribute('data-slide'));
                    updateSlider();
                }
            });
            
            // Event listener for previous button click.
            prevBtn.addEventListener('click', function() {
                // Loop back to the last slide if at the first slide.
                currentSlide = (currentSlide === 0) ? slideData.length - 1 : currentSlide - 1;
                updateSlider();
            });
            
            // Event listener for next button click.
            nextBtn.addEventListener('click', function() {
                // Loop back to the first slide if at the last slide.
                currentSlide = (currentSlide === slideData.length - 1) ? 0 : currentSlide + 1;
                updateSlider();
            });
            
            // Enable keyboard navigation for left/right arrow keys.
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowLeft') {
                    prevBtn.click(); // Simulate a click on the previous button.
                } else if (e.key === 'ArrowRight') {
                    nextBtn.click(); // Simulate a click on the next button.
                }
            });
            
            // --- SQUARESPACE DYNAMIC CONTENT (if applicable) ---
            // These elements are expected to be populated by a Squarespace-specific
            // rendering engine, replacing placeholders like '{{location.email}}'.
            // This part of the code handles those specific placeholders if they exist.
            const emailElements = document.querySelectorAll('.email-dynamic');
            const phoneElements = document.querySelectorAll('.phone-dynamic');
            const nameElements = document.querySelectorAll('.name-dynamic');
            
            // Update dynamic elements with Squarespace tags (if used outside Squarespace, these will remain as tags).
            emailElements.forEach(el => {
                el.textContent = '{{location.email}}';
            });
            
            phoneElements.forEach(el => {
                el.textContent = '{{location.phone}}';
            });
            
            nameElements.forEach(el => {
                el.textContent = '{{location.name}}';
            });
            
            // --- INITIALIZATION ---
            // Call createSlides first to build the HTML structure
            createSlides();

            // Set up event listener for window resize to adjust slider height.
            window.addEventListener('resize', adjustHeight);
            
            // Initial calls to update slider and adjust height when the page loads.
            // Using 'load' ensures all images and resources are loaded before height calculation.
            window.addEventListener('load', function() {
                updateSlider();
                adjustHeight();
            });
            
            // A small timeout for initial height adjustment to ensure rendering is complete.
            setTimeout(adjustHeight, 100);
        });
    </script>
</body>
</html>
